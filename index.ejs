<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="<%= description %>">
    <meta property="og:title" content="<%= title %>" />
    <meta property="og:description" content="<%= description %>" />
    <meta property="og:image" content="og.png" />

    <link href="css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oswald">
    <link rel="stylesheet" href="css/animate.min.css" />
    <script src="js/jquery.js"></script>
    <script src="js/script.js"></script>


    <title>
        <%= title %>
    </title>
</head>

<style>
    @media print {
        html {
            zoom: <%=zoom %>;
        }
    }
</style>

<body class="bg-gray-100 dark:bg-real-gray-900 print:bg-white">
    <button id="top-button" onclick="window.scrollTo(0, 0);" style="border-radius: 70%"
        class="hidden fixed right-7 bottom-7 z-50 text-3xl my-red text-gray-50 py-2 px-3 opacity-50 hover:opacity-100 shadow-sm print:hidden">
        <i class="fas fa-arrow-up"></i></button>

    <nav
        class="flex flex-col md:flex-row justify-center w-full bg-white dark:bg-real-gray-700 dark:text-gray-50 shadow-2xl sticky top-0 z-40 text-sm print:hidden">
        <div id="menu" class="text-right md:hidden text-2xl"><i class="fas fa-bars"></i></div>
        <a href="#about">
            <div class="active">ABOUT</div>
        </a>
        <a href="#work-experience-education" class="hidden md:block">
            <div>WORK EXPERIENCE & EDUCATION</div>
        </a>
        <a href="#work-experience" class="md:hidden exclude">
            <div>WORK EXPERIENCE</div>
        </a>
        <a href="#education" class="md:hidden exclude">
            <div>EDUCATION</div>
        </a>
        <a href="#achievements-projects">
            <div>RESEARCH & PROJECTS</div>
        </a>
        <a href="#courses">
            <div>COURSES</div>
        </a>
        <a href="#skills-interests">
            <div>SKILLS & KNOWLEDGE</div>
        </a>
        
        <i class="fas fa-lightbulb ml-4 neon text-gray-500 dark:text-yellow-200 absolute top-5 md:relative"
            style="cursor: pointer" onclick="$(document.documentElement).toggleClass('dark')"></i>

        <i class="fas fa-print ml-4 absolute left-10 md:left-0 top-5 md:relative" style="cursor: pointer"
            onclick="window.print()"></i>
    </nav>
    <div class="container mx-auto relative lg:w-8/12 print:w-full print:min-w-full">
        <div class="header-wrapper">
            <header
                class="grid bg-white dark:bg-real-gray-800 md:grid-cols-3 grid-cols-2 print:grid-cols-3 gap-x-4 shadow-xl relative header animate__animated">
                <div class="ribbon down z-10 print:hidden">
                    <div class="content">
                        <% for(let link of links || []){ %>
                            <a class="mx-1 text-right" target="_blank" href="<%= link.url %>"><span
                                    class="hidden print:inline">
                                    <%= link.url %>
                                </span><i class="<%= link.icon %>"></i></a><br>
                            <%} %>
                    </div>
                </div>
                <div class="col-span-2 md:col-span-1 print:col-span-1 relative flex" id="about">
                    <h1
                        class="text-3xl md:text-6xl print:text-6xl absolute bottom-0 text-black-50 md:invisible print:invisible p-5 w-full leading-8 z-10 background-color: bg-white">
                        Hi
                        <i class="fas fa-handshake my-red-text"></i>,
                        I'm <span class="font-semibold">
                            <%= firstName %>
                                <%= lastName %>
                        </span><br><span class="text-lg">
                            <%= position %>
                        </span>
                    </h1>
                    <div
                        class="md:max-h-80 print:max-h-60 overflow-hidden mx-auto print:flex print:justify-items-center print:items-center">
                        <img class="md:max-w-none md:h-full print:max-w-none print:h-full print:rounded-full" style="margin-left: 50%;
    transform: translateX(-50%);" src="img/profile-final.jpeg" alt="profile picture">
                    </div>
                </div>

                <div class="col-span-2 m-2">
                    <h1 class="text-4xl hidden md:block print:block leading-6 md:pr-16 print:pr-16">Hello <i
                            class="fas fa-handshake my-red-text"></i>,
                        I'm
                        <span class="font-semibold">
                            <%= firstName %>
                                <%= lastName %>
                        </span><br><span class="text-xl">
                            <%= position %>
                        </span>
                    </h1>
                    <hr class="mb-1 hidden md:block print:block">
                    <div class="grid grid-cols-4 gap-4 print:gap-1 gap-x-10">
                        <% for(let info of details || []){ %>
                            <% if (info.key.includes("site")) {%>
                                <div class="font-bold hidden print:block">
                                    <%= info.key %>
                                </div>
                                <div class="col-span-3 hidden print:block dark:text-gray-300 print:underline text-blue-600"><a target="_blank"
                                        href="<%= info.value %>">
                                        <%= info.value %>
                                    </a></div>
                                    <%} else { %>
                            <div class="font-bold">
                                <%= info.key %>
                            </div>
                            <% if (info.key.includes("mail")) {%>
                                <div class="col-span-3 text-gray-700 dark:text-gray-300"><a
                                        href="mailto:<%= info.value %>">
                                        <%= info.value %>
                                    </a></div>
                               <%} else { %>
                                        <div class="col-span-3 text-gray-700 dark:text-gray-300">
                                            <%= info.value %>
                                        </div>
                                        <%} %>
                                            <%} } %>
                    </div>
                </div>

                <div
                    class="description-block-wrapper text-black-50 col-span-full p-4 text-center text-xl print:text-md print:px-16">
                    <%= description %>
                </div>
            </header>
        </div>
        <section class="px-2">
            <div class="relative grid grid-cols-1 md:grid-cols-2 print:grid-cols-2" id="work-experience-education">
                <div
                    class="top-20 -bottom-2 my-red w-1 opacity-30 absolute inset-x-0 mx-auto invisible md:visible print:visible">
                </div>
                <div class="col-span-1 relative">
                    <div
                        class="top-16 -bottom-2 my-red w-1 opacity-30 absolute inset-x-0 mx-auto  md:invisible print:invisible">
                    </div>

                    <h2 id="work-experience"><i class="fas fa-briefcase"></i> WORK EXPERIENCE</h2>
                    <% for(let job of jobs || []){ %>
                        <div class="job-block-wrapper experiences-block-wrapper">
                            <div class="job-block relative animate__animated <% if (job.screenshots && job.screenshots.length > 0) { %>cursor-pointer job-clickable<% } %>" 
                                 <% if (job.screenshots && job.screenshots.length > 0) { %>data-job-id="<%= job.id %>"<% } %>>
                                <% if (job.logo) { %>
                                    <img class="absolute h-16 p-1.5" src="<%= job.logo %>"
                                        alt="<%= job.company%> logo.">
                                    <% }%>
                                        <span class="timeline-point-left"
                                            style="--timeline-top: <%= job.arrow %>%"></span>
                                        <div class="timeline-block-left">
                                            <span class="arrow-left" style="--timeline-top: <%= job.arrow %>%"></span>
                                            <% if (job.link) { %>
                                                <% if (job.link.includes("github.com")) { %>
                                                    <a class="absolute bottom-2 opacity-50 hover:opacity-100 github-link"
                                                        id="a-<%= job.id %>" href="<%= job.link %>" target="_blank"><i
                                                            class="fab fa-github"></i> <span
                                                            id="star-<%= job.id %>"></span>
                                                    </a>
                                                    <% } else { %>
                                                        <a class="absolute bottom-3.5" href="<%= job.link %>"
                                                            target="_blank"><i
                                                                class="fas fa-link opacity-50 hover:opacity-100"></i></a>
                                                        <% } %>
                                                            <% }%>
                                                                <div class="date">
                                                                    <%= job.date %>
                                                                </div>
                                                                <h3>
                                                                    <%= job.company %>
                                                                </h3>
                                                                <p class="position">
                                                                    <%= job.position %>
                                                                </p>
                                                                <p class="text-lg whitespace-pre-line">
                                                                    <%= job.description %>
                                                                </p>
                                                                <div class="badge-block">
                                                                    <% const badges=[...job.badges].reverse(); for(let
                                                                        badge of badges || []){ %>
                                                                        <div class="has-tooltip">
                                                                            <span class="tooltip">
                                                                                <%= badge.name %>
                                                                            </span>
                                                                            <img alt="<%= badge.name %> logo"
                                                                                src="<%= badge.icon %>">
                                                                        </div>
                                                                        <%} %>
                                                                </div>
                                        </div>
                            </div>
                        </div>
                        <%} %>
                </div>
                <div class="col-span-1 relative">
                    <!-- Space for skills -->
                    <div
                        class="top-16 -bottom-2 my-red w-1 opacity-30 absolute inset-x-0 mx-auto md:invisible print:invisible">
                    </div>
  
                  <h2 id="reference"><i class="fas fa-address-card"></i> References</h2>
                        <% for (let reference of references || []) { %>
                        <div class="reference-block-wrapper nopagebreak">
                            <div class="reference-block relative animate__animated">
                            <span class="timeline-point-right" style="--timeline-top: <%= reference.arrow %>%"></span>
                            <div class="timeline-block-right">
                                <span class="arrow-right" style="--timeline-top: <%= reference.arrow %>%"></span>

                                <h3><%= reference.name %></h3>

                                <% if (reference.position) { %>
                                <p class="position"><%= reference.position %></p>
                                <% } %>

                                <% if (reference.phone) { %>
                                <p class="text-sm text-gray-600">
                                    <i class="fas fa-phone"></i>
                                    <a href="tel:<%= reference.phone %>" class="hover:underline text-blue-600">
                                    <%= reference.phone %>
                                    </a>
                                </p>
                                <% } %>

                                <% if (reference.email) { %>
                                <p class="text-sm text-gray-600">
                                    <i class="fas fa-envelope"></i>
                                    <a href="mailto:<%= reference.email %>" class="hover:underline text-blue-600">
                                    <%= reference.email %>
                                    </a>
                                </p>
                                <% } %>

                                <% if (reference.description) { %>
                                <p class="text-justify mt-2"><%= reference.description %></p>
                                <% } %>

                                <% if (reference.knowledges) { %>
                                <div class="badge-text-block flex flex-wrap text-white gap-1 justify-center mt-2">
                                    <% for (let k of reference.knowledges) { %>
                                    <div class="p-1 my-red text-xs rounded-md">
                                        <%= k %>
                                    </div>
                                    <% } %>
                                </div>
                                <% } %>
                            </div>
                            </div>
                        </div>
                        <% } %>


                    <h2 id="skills-interests"><i class="fas fa-book"></i> SKILLS</h2>
                    <div
                        class="grid grid-cols-2 md:grid-cols-3 justify-items-center gap-4 justify-center place-items-center px-2 md:pl-10 print:pl-10 print:pr-0 md:pl-0 print:pl-0">
                        <% for(let skill of skills || []){ %>
                            <div class="skill-block-wrapper">
                                <div class="skill-block animate__animated animate__slow">
                                    <div class="skill-block-category text-center"><i class="<%= skill.icon %>"></i>
                                        <%= skill.category %>
                                    </div>
                                    <% if (skill.content) {%>
                                        <div class="text-center my-auto">
                                            <%= skill.content %>
                                        </div>
                                        <%} %>
                                </div>
                            </div>
                            <%} %>
                    </div>
                    <h2 id="education"><i class="fas fa-user-graduate"></i> EDUCATION</h2>

                    <% for(let education of educations || []){ %>
                        <div class="education-block-wrapper nopagebreak">
                            <div class="education-block relative animate__animated">
                                <span class="timeline-point-right"
                                    style="--timeline-top: <%= education.arrow %>%"></span>
                                <div class="timeline-block-right">
                                    <span class="arrow-right" style="--timeline-top: <%= education.arrow %>%"></span>
                                    <div class="date-edu">
                                        <%= education.date %>
                                    </div>
                                    <% if (education.logo) { %>
                                        <img class="object-scale-down w-32 p-1.5 right-0 mx-auto mt-3 mb-3"
                                            src="<%= education.logo %>" alt="<%education.school%> logo">
                                        <% }%>
                                            <h3>
                                                <%= education.degree %>
                                            </h3>
                                            <p class="position">
                                                <%= education.school %>
                                            </p>
                                            <p class="text-justify">
                                                <%= education.description %>
                                            </p>
                                            <% if (education.knowledges) {%>
                                                <div
                                                    class="badge-text-block flex flex-wrap text-white gap-1 justify-center mt-2">
                                                    <% for(let k of education.knowledges || []){ %>
                                                        <div class="p-1 my-red text-xs rounded-md">
                                                            <%= k %>
                                                        </div>
                                                        <% } %>
                                                </div>
                                                <% } %>%>
                                </div>
                            </div>
                        </div>
                        <%} %>


                </div>


            </div>
        </section>
        <!-- <div class="pagebreak"> </div> -->
        <div class="my-10"></div>
        <h2 id="achievements-projects"><i class="fas fa-trophy"></i> RESEARCH & PROJECTS</h2>
        <section class="flex flex-wrap gap-x-6 px-2">
            <% for(let project of projects || []){ %>
                <div class="relative project-block-wrapper self-center" style="flex: 1 0 270px;">
                    <div class="timeline-block project-block animate__animated">
                        <% if (project.link) { %>
                            <% if (project.link.includes("github.com")) { %>
                                <a class="absolute opacity-50 hover:opacity-100 github-link" id="a-<%= project.id %>"
                                    href="<%= project.link %>" target="_blank"><i class="fab fa-github"></i> <span
                                        id="star-<%= project.id %>"></span>
                                </a>
                                <% } else { %>
                                    <a class="absolute" href="<%= project.link %>" target="_blank"><i
                                            class="fas fa-link opacity-50 hover:opacity-100"></i></a>
                                    <% } %>
                                        <% }%>
                                            <div class="date">
                                                <%= project.date %>
                                            </div>
                                            <h3>
                                                <%= project.name %>
                                            </h3>
                                            <p class="position">
                                                <%= project.position %>
                                            </p>
                                            <p class="text-justify">
                                                <%= project.description %>
                                            </p>
                                            <div class="badge-block">
                                                <% const badges=[...project.badges].reverse(); for(let badge of badges
                                                    || []){ %>
                                                    <div class="has-tooltip">
                                                        <span class="tooltip">
                                                            <%= badge.name %>
                                                        </span>
                                                        <img alt="<%= badge.name %> logo" src="<%= badge.icon %>">
                                                    </div>
                                                    <%} %>
                                            </div>
                    </div>
                </div>
                <%} %>
        </section>
        <div class="my-10"></div>
        <h2 id="courses"><i class="fas fa-graduation-cap"></i> UDEMY COURSES</h2>
        <section class="flex flex-wrap gap-x-6 px-2">
            <% for(let course of courses || []){ %>
                <div class="relative project-block-wrapper self-center" style="flex: 1 0 270px;">
                    <div class="timeline-block project-block animate__animated">
                        <% if (course.link) { %>
                            <a class="absolute" href="<%= course.link %>" target="_blank"><i
                                    class="fas fa-link opacity-50 hover:opacity-100"></i></a>
                        <% }%>
                        <div class="date">
                            <%= course.date %>
                        </div>
                        <h3>
                            <%= course.name %>
                        </h3>
                        <% if (course.instructor) { %>
                            <p class="position">
                                <%= course.instructor %>
                            </p>
                        <% } %>
                        <p class="text-justify">
                            <%= course.description %>
                        </p>
                        <% if (course.badges && course.badges.length > 0) { %>
                            <div class="badge-block">
                                <% const badges=[...course.badges].reverse(); for(let badge of badges || []){ %>
                                    <div class="has-tooltip">
                                        <span class="tooltip">
                                            <%= badge.name %>
                                        </span>
                                        <img alt="<%= badge.name %> logo" src="<%= badge.icon %>">
                                    </div>
                                    <%} %>
                            </div>
                        <% } %>
                    </div>
                </div>
                <%} %>
        </section>
    </div>
    <div class="my-5"></div>
    <div class="hidden print:block text-center pt-4">
        A online version of this resume is also available, with updates as they occur, and links to the different
        projects, on <a class="my-red-text"
            href="https://tarektaamali.github.io/">https://tarektaamali.github.io/resume/</a>.
        <br>
        <img class="p-4 w-2/12 mx-auto" src="img/qrcode.png" alt="QR-code of the online resume.">
    </div>
    <footer class="p-14 my-red text-gray-50 print:hidden text-center">
        <!-- Profiles: <a href="https://theo-michel.github.io/resume-theo-michel/">Main</a> | <a
            href="https://theo-michel.github.io/resume/data.html">Data</a> | <a
            href="https://theo-michel.github.io/resume/software.html">Software</a>
        <br> -->
        <br>
        © 2025 Tarek Taamalli ~ Build with ♥.


    </footer>
    <script>
        // Code from https://stackoverflow.com/questions/10599933/convert-long-number-into-abbreviated-string-in-javascript-with-a-special-shortn
        function abbreviateNumber(value) {
            var newValue = value;
            if (value >= 1000) {
                var suffixes = ["", "k", "m", "b", "t"];
                var suffixNum = Math.floor(("" + value).length / 3);
                var shortValue = '';
                for (var precision = 2; precision >= 1; precision--) {
                    shortValue = parseFloat((suffixNum != 0 ? (value / Math.pow(1000, suffixNum)) : value).toPrecision(precision));
                    var dotLessShortValue = (shortValue + '').replace(/[^a-zA-Z 0-9]+/g, '');
                    if (dotLessShortValue.length <= 2) { break; }
                }
                if (shortValue % 1 != 0) shortValue = shortValue.toFixed(1);
                newValue = shortValue + suffixes[suffixNum];
            }
            return newValue;
        }

        document.querySelectorAll(".github-link").forEach(a => {
            const [usr, repo] = a.href.split("/").slice(-2);
            fetch(`https://api.github.com/repos/${usr}/${repo}?page=10&per_page=100`).then((response) => {
                response.json().then((json) => {
                    document.getElementById(a.id.replace("a-", "star-")).innerHTML = json.stargazers_count > 0 ? `${abbreviateNumber(json.stargazers_count)} <i
                                        class="fas fa-star text-xs text-yellow-400"></i>` : "";
                })

            })
        });
    </script>

    <!-- Screenshot Modal -->
    <div id="screenshot-modal" class="hidden fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-90 print:hidden">
        <div class="flex items-center justify-center min-h-screen px-4">
            <div class="relative bg-transparent w-full max-w-7xl">
                <!-- Close Button -->
                <button id="close-modal" class="absolute top-4 right-4 z-10 text-white hover:text-gray-300 text-3xl bg-black bg-opacity-50 rounded-full w-10 h-10 flex items-center justify-center transition-all">&times;</button>
                
                <!-- Title -->
                <div class="text-center mb-4">
                    <h3 id="modal-title" class="text-2xl font-semibold text-white mb-2"></h3>
                    <p id="modal-counter" class="text-white text-sm opacity-75"></p>
                </div>
                
                <!-- Image Container -->
                <div class="relative">
                    <!-- Previous Button -->
                    <button id="prev-image" class="absolute left-4 top-1/2 transform -translate-y-1/2 z-10 bg-black bg-opacity-50 hover:bg-opacity-75 text-white text-2xl rounded-full w-12 h-12 flex items-center justify-center transition-all hidden">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    
                    <!-- Next Button -->
                    <button id="next-image" class="absolute right-4 top-1/2 transform -translate-y-1/2 z-10 bg-black bg-opacity-50 hover:bg-opacity-75 text-white text-2xl rounded-full w-12 h-12 flex items-center justify-center transition-all hidden">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    
                    <!-- Image Slider -->
                    <div id="modal-screenshots" class="flex justify-center items-center min-h-[60vh]">
                        <!-- Screenshots will be inserted here -->
                    </div>
                </div>
                
                <!-- Dots Indicator -->
                <div id="modal-dots" class="flex justify-center gap-2 mt-4">
                    <!-- Dots will be inserted here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Screenshot Modal Functionality
        const jobData = {
            <% for(let job of jobs || []){ %>
                <% if (job.screenshots && job.screenshots.length > 0) { %>
                    '<%= job.id %>': {
                        company: '<%= job.company %>',
                        screenshots: [<% for(let i = 0; i < job.screenshots.length; i++){ %>'<%= job.screenshots[i] %>'<% if (i < job.screenshots.length - 1) { %>,<% } %><% } %>]
                    },
                <% } %>
            <% } %>
        };

        document.querySelectorAll('.job-clickable').forEach(jobBlock => {
            jobBlock.addEventListener('click', function(e) {
                // Don't open modal if clicking on links
                if (e.target.closest('a')) return;
                
                const jobId = this.getAttribute('data-job-id');
                if (jobData[jobId]) {
                    openScreenshotModal(jobData[jobId]);
                }
            });
        });

        let currentImageIndex = 0;
        let currentScreenshots = [];

        function openScreenshotModal(data) {
            const modal = document.getElementById('screenshot-modal');
            const title = document.getElementById('modal-title');
            const counter = document.getElementById('modal-counter');
            const screenshotsContainer = document.getElementById('modal-screenshots');
            const dotsContainer = document.getElementById('modal-dots');
            const prevBtn = document.getElementById('prev-image');
            const nextBtn = document.getElementById('next-image');
            
            currentScreenshots = data.screenshots;
            currentImageIndex = 0;
            
            title.textContent = data.company + ' - Project Screenshots';
            screenshotsContainer.innerHTML = '';
            dotsContainer.innerHTML = '';
            
            // Create image
            const img = document.createElement('img');
            img.src = currentScreenshots[currentImageIndex];
            img.alt = 'Screenshot';
            img.className = 'max-w-full max-h-[80vh] object-contain rounded-lg shadow-2xl cursor-zoom-in';
            img.onclick = () => window.open(currentScreenshots[currentImageIndex], '_blank');
            screenshotsContainer.appendChild(img);
            
            // Create dots
            currentScreenshots.forEach((_, index) => {
                const dot = document.createElement('button');
                dot.className = `w-3 h-3 rounded-full transition-all ${index === 0 ? 'bg-white' : 'bg-white opacity-50'}`;
                dot.onclick = () => goToImage(index);
                dotsContainer.appendChild(dot);
            });
            
            // Show/hide navigation buttons
            if (currentScreenshots.length > 1) {
                prevBtn.classList.remove('hidden');
                nextBtn.classList.remove('hidden');
                updateCounter();
            } else {
                prevBtn.classList.add('hidden');
                nextBtn.classList.add('hidden');
            }
            
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function updateCounter() {
            const counter = document.getElementById('modal-counter');
            counter.textContent = `${currentImageIndex + 1} / ${currentScreenshots.length}`;
            
            // Update dots
            const dots = document.querySelectorAll('#modal-dots button');
            dots.forEach((dot, index) => {
                if (index === currentImageIndex) {
                    dot.classList.remove('opacity-50');
                    dot.classList.add('bg-white');
                } else {
                    dot.classList.add('opacity-50');
                }
            });
        }

        function goToImage(index) {
            currentImageIndex = index;
            const screenshotsContainer = document.getElementById('modal-screenshots');
            const img = screenshotsContainer.querySelector('img');
            img.src = currentScreenshots[currentImageIndex];
            updateCounter();
        }

        function nextImage() {
            if (currentImageIndex < currentScreenshots.length - 1) {
                goToImage(currentImageIndex + 1);
            } else {
                goToImage(0); // Loop to first
            }
        }

        function prevImage() {
            if (currentImageIndex > 0) {
                goToImage(currentImageIndex - 1);
            } else {
                goToImage(currentScreenshots.length - 1); // Loop to last
            }
        }

        function closeScreenshotModal() {
            const modal = document.getElementById('screenshot-modal');
            modal.classList.add('hidden');
            document.body.style.overflow = '';
            currentScreenshots = [];
            currentImageIndex = 0;
        }

        document.getElementById('close-modal').addEventListener('click', closeScreenshotModal);
        document.getElementById('prev-image').addEventListener('click', prevImage);
        document.getElementById('next-image').addEventListener('click', nextImage);
        
        document.getElementById('screenshot-modal').addEventListener('click', function(e) {
            if (e.target === this || e.target.id === 'screenshot-modal') {
                closeScreenshotModal();
            }
        });

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            const modal = document.getElementById('screenshot-modal');
            if (modal.classList.contains('hidden')) return;
            
            if (e.key === 'Escape') {
                closeScreenshotModal();
            } else if (e.key === 'ArrowLeft') {
                prevImage();
            } else if (e.key === 'ArrowRight') {
                nextImage();
            }
        });
    </script>
</body>